(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[515],{35353:function(Ue,h,n){"use strict";n.r(h);var Te=n(89198),f=n(41205),We=n(26780),P=n(86444),R=n(13378),Ke=n(45030),L=n(1512),Se=n(68137),s=n(39394),Ne=n(66120),Q=n(4867),Ve=n(25324),X=n(45733),ke=n(43623),w=n(28930),$e=n(74491),U=n(90383),ze=n(13753),Z=n(48429),je=n(97140),T=n(69178),c=n(52663),C=n(68699),Ge=n(67604),r=n(47552),o=n(44742),q=n(94043),E=n.n(q),e=n(67294),D=n(44084),ee=n(18586),d=n(24480),v=n(23948),W=n(46111),F=n(96486),xe=n.n(F),K=D.Z.ORDER_ALL_URL,Ye=D.Z.ORDER_PAY_URL,te=D.Z.ORDER_CANCEL_URL,ae=D.Z.ORDER_STATUS_URL,ne=D.Z.ORDER_UPDATE_URL,re=D.Z.DELIVER_COMPANY_GET_URL,ue=D.Z.ORDER_DELIVER_URL,le=function(){var se=(0,e.useState)([]),S=(0,o.Z)(se,2),N=S[0],V=S[1],_e=(0,e.useState)([]),k=(0,o.Z)(_e,2),O=k[0],me=k[1],oe=(0,e.useState)([]),$=(0,o.Z)(oe,2),Je=$[0],Qe=$[1],de=(0,e.useState)({current:1,pageSize:10,total:0}),z=(0,o.Z)(de,2),I=z[0],j=z[1],ie=(0,e.useState)(!1),G=(0,o.Z)(ie,2),Xe=G[0],we=G[1],Ee=(0,e.useState)(!1),x=(0,o.Z)(Ee,2),ce=x[0],y=x[1],De=(0,e.useState)(!1),Y=(0,o.Z)(De,2),ve=Y[0],p=Y[1],fe=(0,e.useState)(!1),H=(0,o.Z)(fe,2),Ze=H[0],B=H[1],Ce=r.Z.useForm(),Ie=(0,o.Z)(Ce,1),b=Ie[0],Fe=r.Z.useForm(),Me=(0,o.Z)(Fe,1),qe=Me[0],Pe=r.Z.useForm(),Oe=(0,o.Z)(Pe,1),g=Oe[0],ye=r.Z.useForm(),pe=(0,o.Z)(ye,1),A=pe[0],M=function(){var u=(0,C.Z)(E().mark(function a(){var t,l;return E().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return t=(0,c.Z)((0,c.Z)({},b.getFieldsValue()),{},{size:I.pageSize,page:I.current-1}),_.next=3,(0,d.kk)(K,t);case 3:l=_.sent,l&&(V(l.data),j((0,c.Z)((0,c.Z)({},I),{},{total:l.data.totalElements})));case 5:case"end":return _.stop()}},a)}));return function(){return u.apply(this,arguments)}}(),Be=function(){var u=(0,C.Z)(E().mark(function a(){var t;return E().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,d.kk)(re,"");case 2:t=m.sent,t&&(console.log(t.data),me(t.data),console.log("123"),console.log(N),console.log(O));case 4:case"end":return m.stop()}},a)}));return function(){return u.apply(this,arguments)}}(),be=function(){var u=(0,C.Z)(E().mark(function a(){var t,l;return E().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(t=b.getFieldsValue().status,console.log(t),console.log(Number(t)),t!==""){_.next=9;break}return _.next=6,(0,d.kk)(K,"");case 6:l=_.sent,_.next=12;break;case 9:return _.next=11,(0,d.nW)(ae,Number(t));case 11:l=_.sent;case 12:l&&V(l.data);case 13:case"end":return _.stop()}},a)}));return function(){return u.apply(this,arguments)}}();(0,e.useEffect)(function(){M()},[I.current]);function J(u){console.log(u)}var ge=function(a){console.log(a),g.setFieldsValue((0,c.Z)((0,c.Z)({},a),{},{address:[a.addressProvince,a.addressCity,a.addressDistinct]})),y(!0)},Ae=function(a){console.log(a),Be(),console.log(O),A.setFieldsValue((0,c.Z)((0,c.Z)({},a),{},{address:[a.addressProvince,a.addressCity,a.addressDistinct]})),p(!0)},he=function(){var u=(0,C.Z)(E().mark(function a(){var t,l,m;return E().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=g.getFieldsValue(),t.address==null?l={orderItemId:t.orderItemId,receiverName:t.receiverName,phoneNumber:t.phoneNumber,addressProvince:"",addressCity:"",addressDistinct:"",addressDetail:t.addressDetail}:l={orderItemId:t.orderItemId,receiverName:t.receiverName,phoneNumber:t.phoneNumber,addressProvince:t.address[0],addressCity:t.address[1],addressDistinct:t.address[2],addressDetail:t.addressDetail},i.next=4,(0,d.Cs)(ne,(0,c.Z)({},l));case 4:m=i.sent,m&&(y(!1),M());case 6:case"end":return i.stop()}},a)}));return function(){return u.apply(this,arguments)}}(),Re=function(){var u=(0,C.Z)(E().mark(function a(){var t,l,m;return E().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=A.getFieldsValue(),console.log("deliverForm",t),l={orderItemId:t.orderItemId,companyName:t.deliverCompany},console.log("22222",l),i.next=6,(0,d.rC)(ue,l.orderItemId,l.companyName);case 6:m=i.sent,m&&(p(!1),M());case 8:case"end":return i.stop()}},a)}));return function(){return u.apply(this,arguments)}}(),Le=function(a){console.log(a),B(!0)};return e.createElement(ee.ZP,null,e.createElement(U.Z,null,e.createElement(r.Z,{form:b,id:"searchForm",layout:"inline"},e.createElement(r.Z.Item,{name:"status"},e.createElement(T.Z,{placeholder:"\u9009\u62E9\u67E5\u8BE2\u72B6\u6001"},e.createElement(v.W,{value:""},"\u5168\u90E8"),e.createElement(v.W,{value:"0"},"\u672A\u4ED8\u6B3E"),e.createElement(v.W,{value:"1"},"\u5F85\u53D1\u8D27"),e.createElement(v.W,{value:"2"},"\u5F85\u6536\u8D27"),e.createElement(v.W,{value:"3"},"\u5DF2\u5B8C\u6210"),e.createElement(v.W,{value:"4"},"\u5DF2\u53D6\u6D88"))),e.createElement(r.Z.Item,null,e.createElement(Z.Z,{type:"primary",onClick:be},"\u67E5\u8BE2")))),e.createElement("br",null),e.createElement(U.Z,null,e.createElement(Q.Z,{columns:[{title:"\u8BA2\u5355\u7F16\u53F7",dataIndex:"orderItemId",key:"orderItemId"},{title:"\u5356\u5BB6\u7528\u6237",dataIndex:"userName",key:"userName"},{title:"\u5546\u54C1",dataIndex:"commodityName",key:"commodityName"},{title:"\u578B\u53F7",dataIndex:"type",key:"type"},{title:"\u8D2D\u4E70\u6570\u91CF",dataIndex:"quantity",key:"quantity"},{title:"\u603B\u4EF7",dataIndex:"totalPrice",key:"totalPrice"},{title:"\u8BA2\u5355\u72B6\u6001",dataIndex:"status",key:"status",render:function(a){return a===0?"\u672A\u4ED8\u6B3E":a===1?"\u5F85\u53D1\u8D27":a===2?"\u5F85\u6536\u8D27":a===3?"\u5DF2\u5B8C\u6210":a===4?"\u5DF2\u53D6\u6D88":""}},{title:"\u6536\u8D27\u4EBA",dataIndex:"receiverName",key:"receiverName"},{title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"\u6536\u8D27\u5730\u5740",dataIndex:"addressMerge",key:"addressMerge"},{title:"Action",key:"action",render:function(a,t){return e.createElement(X.Z,{size:"middle"},e.createElement(Z.Z,{onClick:function(){return ge(t)},disabled:(0,F.toNumber)(t.status)>1},"\u7F16\u8F91"),e.createElement(Z.Z,{type:"primary",ghost:!0,onClick:function(){return Ae(t)},disabled:(0,F.toNumber)(t.status)>=2},"\u53D1\u8D27"),e.createElement(w.Z,{title:"\u786E\u8BA4\u53D6\u6D88\u8BA2\u5355\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onConfirm:function(){(0,d.wz)(te,t.orderItemId).then(function(){return M()})}},e.createElement(Z.Z,{danger:!0},"\u53D6\u6D88")),e.createElement(Z.Z,{onClick:function(){return Le(t)},disabled:(0,F.toNumber)(t.status)<=1},"\u67E5\u770B\u7269\u6D41"))}}],dataSource:N,pagination:I,onChange:function(a){return j(a)},rowKey:function(a){return a.id}})),e.createElement(P.Z,{title:"\u7F16\u8F91",visible:ce,okButtonProps:{htmlType:"submit",form:"editForm"},onCancel:function(){y(!1)}},e.createElement(r.Z,(0,R.Z)({name:"editForm",form:g},d.cl,{onFinish:he,validateMessages:d.AS}),e.createElement(r.Z.Item,{name:"orderItemId",label:"\u8BA2\u5355\u7F16\u53F7"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"userName",label:"\u7528\u6237"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"commodityName",label:"\u5546\u54C1"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"type",label:"\u578B\u53F7"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"quantity",label:"\u8D2D\u4E70\u6570\u91CF"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"totalPrice",label:"\u603B\u4EF7"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"receiverName",label:"\u6536\u8D27\u4EBA"},e.createElement(s.Z,null)),e.createElement(r.Z.Item,{name:"phoneNumber",label:"\u8054\u7CFB\u7535\u8BDD"},e.createElement(s.Z,null)),e.createElement(r.Z.Item,{name:"addressDetail",label:"\u8BE6\u7EC6\u5730\u5740",help:"\u5982\u679C\u4FEE\u6539\u7684\u8BDD\uFF0C\u4E0D\u7528\u8F93\u5165\u7701\u5E02\u533A"},e.createElement(s.Z,null)),e.createElement(r.Z.Item,{name:"address",label:"\u57FA\u672C\u5730\u5740"},e.createElement(L.Z,{name:"addCas",options:W.Z.options,placeholder:"\u53EF\u4FEE\u6539\u7701/\u5E02/\u533A",onChange:J})))),e.createElement(P.Z,{title:"\u53D1\u8D27",visible:ve,okButtonProps:{htmlType:"submit",form:"deliverForm"},onCancel:function(){p(!1)}},e.createElement(r.Z,(0,R.Z)({name:"deliverForm",form:A},d.cl,{onFinish:Re,validateMessages:d.AS}),e.createElement(r.Z.Item,{name:"orderItemId",label:"\u8BA2\u5355\u7F16\u53F7"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"userName",label:"\u7528\u6237"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"commodityName",label:"\u5546\u54C1"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"type",label:"\u578B\u53F7"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"quantity",label:"\u8D2D\u4E70\u6570\u91CF"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"totalPrice",label:"\u603B\u4EF7"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"receiverName",label:"\u6536\u8D27\u4EBA"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"phoneNumber",label:"\u8054\u7CFB\u7535\u8BDD"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"deliverCompany",label:"\u5FEB\u9012\u5546",rules:[{required:!0}]},e.createElement(T.Z,{placeholder:"\u9009\u62E9\u53D1\u8D27\u5FEB\u9012"},O.map(function(u){return e.createElement(v.W,{value:u.name},u.name)}))),e.createElement(r.Z.Item,{name:"addressDetail",label:"\u8BE6\u7EC6\u5730\u5740",help:"\u5982\u679C\u4FEE\u6539\u7684\u8BDD\uFF0C\u4E0D\u7528\u8F93\u5165\u7701\u5E02\u533A"},e.createElement(s.Z,{disabled:!0})),e.createElement(r.Z.Item,{name:"address",label:"\u57FA\u672C\u5730\u5740"},e.createElement(L.Z,{name:"addCas",options:W.Z.options,placeholder:"\u53EF\u4FEE\u6539\u7701/\u5E02/\u533A",onChange:J,disabled:!0})))),e.createElement(P.Z,{title:"\u67E5\u770B\u7269\u6D41",visible:Ze,onOk:function(){B(!1)},onCancel:function(){B(!1)}},e.createElement(f.Z,null,e.createElement(f.Z.Item,{color:"gray"},"\u5546\u54C1\u5DF2\u4E0B\u5355 2021-12-13 19:21"),e.createElement(f.Z.Item,{color:"gray"},"\u5305\u88F9\u6B63\u5728\u6536\u63FD 2021-12-14 14:02"),e.createElement(f.Z.Item,{color:"gray"},"\u3010\u4E0A\u6D77\u6768\u6D66B\u7AD9\u3011\u63FD\u6536\u6210\u529F 2021-12-14 18:15"),e.createElement(f.Z.Item,null,"\u3010\u4E0A\u6D77\u8F6C\u8FD0\u4E2D\u5FC3\u3011\uFF0C\u6B63\u5728\u53D1\u5F80\u3010\u5317\u4EAC\u8FD0\u8F6C\u4E2D\u5FC3\u30112021-12-14 20:38"))))};h.default=le}}]);
